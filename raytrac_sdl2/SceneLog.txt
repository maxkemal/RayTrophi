[INFO] --- Hardware Detection ---
[INFO] Found 1 CUDA device(s).
[INFO] Device [0]: NVIDIA GeForce RTX 3060 (SM 8.6) - OptiX Capable
[INFO] Selected: NVIDIA GeForce RTX 3060 (Hardware RT enabled)
[INFO] --------------------------
[INFO] OptiX is ready!
[INFO] Loading Default Scene Asset: assets/default.glb
[INFO] ========================================
[INFO] SCENE CLEANUP: Starting comprehensive cleanup...
[INFO] ========================================
[INFO] [SCENE CLEANUP] Scene data structures cleaned.
[INFO] [MATERIAL CLEANUP] MaterialManager cleared: 0 materials removed.
[INFO] [GPU CLEANUP] Destroyed 0 texture objects and 0 CUDA arrays.
[INFO] [GPU CLEANUP] OptiX texture objects destroyed.
[INFO] ========================================
[INFO] SCENE CLEANUP: Completed successfully!
[INFO] ========================================
[INFO] Starting scene creation from: assets/default.glb
[INFO] Base directory set to: assets/
[INFO] Loading model geometry and animations...
[INFO] Starting model loading: assets/default.glb
[INFO] Importing file with Assimp...
[INFO] Assimp file loaded successfully. Processing scene data...
[INFO] Clearing existing cameras, lights, and transform cache...
[INFO] Building node map from scene hierarchy...
[INFO] Node map built with 4 nodes.
[INFO] Processing cameras...
[INFO] Cameras processed: 1 camera(s) found.
[INFO] Processing lights...
[INFO] Lights processed: 1 light(s) found.
[INFO] Building Bone Data...
[INFO] Processing nodes to extract triangles...
[INFO] [MaterialManager] getOrCreateMaterialID NEW: assets_default_material.002 -> ID=0 | NO TEXTURE
[INFO] Triangle extraction completed: 2 triangles processed.
[INFO] Processing animations...
[INFO] No animations found in file: assets/default.glb
[INFO] Model loading completed. Summary - Triangles: 2, Animations: 0, Cameras: 1, Lights: 1
[INFO] Successfully loaded triangles: 2
[INFO] Loaded animations: 0
[INFO] Total Bones (Merged): 0
[INFO] Adding triangles to scene world...
[INFO] Added 2 triangles to scene.
[INFO] Loading camera and lighting data...
[INFO] Loaded 1 camera(s). Active: Camera #0
[INFO] Loaded lights: 1
[INFO] Building BVH structure...
[INFO] [Embree] BVH structure built successfully.
[INFO] OptiX GPU detected. Creating OptiX geometry data...
[INFO] Converting 2 triangles to OptiX format.
[INFO] Material indices validated.
[INFO]  OptiX buildFromData is starting...
[INFO] OptiX BVH and acceleration structures built.
[INFO] Setting up OptiX camera parameters...
[INFO] OptiX camera configured successfully.
[INFO] Configuring 1 lights for OptiX...
[INFO] OptiX light parameters set successfully.
[INFO] World environment set for OptiX rendering.
[INFO] Scene creation completed successfully.
[INFO] Scene info - Triangles: 2, Lights: 1, Animations: 0
[INFO] Scene initialization flag set to true.
[INFO] Using camera from GLB file (total: 1)
[INFO] Found Directional Light in default asset. Syncing Nishita Sun...
[INFO] AtmosphereLUT: GPU Resources (2D & 3D) allocated successfully.
[INFO] [OptiX TLAS] Building scene (Native Instancing Enabled)...
[INFO] [OptiX] Geometry Source - Static Triangles: 2, Instances: 0
[INFO] [OptixAccelManager] Cleaned up
[INFO] [OptiX TLAS] Build complete. Instances: 1
[INFO] Appending model to existing scene (no cleanup)
[INFO] Starting scene creation from: E:\rt_k\gltf.gltf
[INFO] Base directory set to: E:\rt_k/
[INFO] Loading model geometry and animations...
[INFO] Starting model loading: E:\rt_k\gltf.gltf
[INFO] Importing file with Assimp...
[INFO] Assimp file loaded successfully. Processing scene data...
[INFO] Clearing existing cameras, lights, and transform cache...
[INFO] Building node map from scene hierarchy...
[INFO] Node map built with 22 nodes.
[INFO] Processing cameras...
[INFO] Cameras processed: 0 camera(s) found.
[INFO] Processing lights...
[INFO] Lights processed: 0 light(s) found.
[INFO] Building Bone Data...
[INFO] Processing nodes to extract triangles...
[INFO] COMPRESSED decode start: 4096x4096 (16777216 pixels)
[INFO] [SUCCESS] COMPRESSED texture decoded -> 4096x4096 | opaque | color | Single-threaded safe load | 280ms
[INFO] [MaterialManager] getOrCreateMaterialID NEW: rt_k_gltf_home_style_backdrop.001 -> ID=1 | NO TEXTURE
[INFO] [MaterialManager] getOrCreateMaterialID NEW: rt_k_gltf_home_style_andormedar.001 -> ID=2 | NO TEXTURE
[INFO] COMPRESSED decode start: 2048x2048 (4194304 pixels)
[INFO] [SUCCESS] COMPRESSED texture decoded -> 2048x2048 | opaque | color | Single-threaded safe load | 133ms
[INFO] [MaterialManager] getOrCreateMaterialID NEW: rt_k_gltf_home_style_andormedar2.001 -> ID=3 | NO TEXTURE
[INFO] COMPRESSED decode start: 4096x4096 (16777216 pixels)
[INFO] [SUCCESS] COMPRESSED texture decoded -> 4096x4096 | opaque | color | Single-threaded safe load | 466ms
[INFO] [MaterialManager] getOrCreateMaterialID NEW: rt_k_gltf_home_style_charcters.001 -> ID=4 | NO TEXTURE
[INFO] COMPRESSED decode start: 4096x4096 (16777216 pixels)
[INFO] [SUCCESS] COMPRESSED texture decoded -> 4096x4096 | opaque | color | Single-threaded safe load | 533ms
[INFO] [MaterialManager] getOrCreateMaterialID NEW: rt_k_gltf_home_style_watermill.001 -> ID=5 | NO TEXTURE
[INFO] COMPRESSED decode start: 4096x4096 (16777216 pixels)
[INFO] [SUCCESS] COMPRESSED texture decoded -> 4096x4096 | opaque | color | Single-threaded safe load | 469ms
[INFO] [MaterialManager] getOrCreateMaterialID NEW: rt_k_gltf_home_style_terrain_left.001 -> ID=6 | NO TEXTURE
[INFO] COMPRESSED decode start: 4096x4096 (16777216 pixels)
[INFO] [SUCCESS] COMPRESSED texture decoded -> 4096x4096 | opaque | color | Single-threaded safe load | 482ms
[INFO] [MaterialManager] getOrCreateMaterialID NEW: rt_k_gltf_home_style_house.001 -> ID=7 | NO TEXTURE
[INFO] COMPRESSED decode start: 4096x4096 (16777216 pixels)
[INFO] [SUCCESS] COMPRESSED texture decoded -> 4096x4096 | opaque | color | Single-threaded safe load | 531ms
[INFO] [MaterialManager] getOrCreateMaterialID NEW: rt_k_gltf_home_style_bridge.001 -> ID=8 | NO TEXTURE
[INFO] COMPRESSED decode start: 4096x4096 (16777216 pixels)
[INFO] [SUCCESS] COMPRESSED texture decoded -> 4096x4096 | opaque | color | Single-threaded safe load | 499ms
[INFO] [MaterialManager] getOrCreateMaterialID NEW: rt_k_gltf_home_style_tree.001 -> ID=9 | NO TEXTURE
[INFO] COMPRESSED decode start: 4096x4096 (16777216 pixels)
[INFO] [SUCCESS] COMPRESSED texture decoded -> 4096x4096 | alpha | color | Single-threaded safe load | 337ms
[INFO] [MaterialManager] getOrCreateMaterialID NEW: rt_k_gltf_home_style_water.002 -> ID=10 | NO TEXTURE
[INFO] COMPRESSED decode start: 4096x4096 (16777216 pixels)
[INFO] [SUCCESS] COMPRESSED texture decoded -> 4096x4096 | opaque | color | Single-threaded safe load | 507ms
[INFO] [MaterialManager] getOrCreateMaterialID NEW: rt_k_gltf_home_style_terrain_right.001 -> ID=11 | NO TEXTURE
[INFO] COMPRESSED decode start: 4096x4096 (16777216 pixels)
[INFO] [SUCCESS] COMPRESSED texture decoded -> 4096x4096 | opaque | color | Single-threaded safe load | 501ms
[INFO] [MaterialManager] getOrCreateMaterialID NEW: rt_k_gltf_home_style_stone_a.001 -> ID=12 | NO TEXTURE
[INFO] COMPRESSED decode start: 2048x2048 (4194304 pixels)
[INFO] [SUCCESS] COMPRESSED texture decoded -> 2048x2048 | opaque | color | Single-threaded safe load | 135ms
[INFO] [MaterialManager] getOrCreateMaterialID NEW: rt_k_gltf_home_style_dets.001 -> ID=13 | NO TEXTURE
[INFO] COMPRESSED decode start: 4096x4096 (16777216 pixels)
[INFO] [SUCCESS] COMPRESSED texture decoded -> 4096x4096 | opaque | color | Single-threaded safe load | 538ms
[INFO] [MaterialManager] getOrCreateMaterialID NEW: rt_k_gltf_home_style_dragon.001 -> ID=14 | NO TEXTURE
[INFO] COMPRESSED decode start: 1024x1024 (1048576 pixels)
[INFO] [SUCCESS] COMPRESSED texture decoded -> 1024x1024 | alpha | color | Single-threaded safe load | 35ms
[INFO] [MaterialManager] getOrCreateMaterialID NEW: rt_k_gltf_home_style_water_foam.001 -> ID=15 | NO TEXTURE
[INFO] COMPRESSED decode start: 1024x1024 (1048576 pixels)
[INFO] [SUCCESS] COMPRESSED texture decoded -> 1024x1024 | opaque | color | Single-threaded safe load | 50ms
[INFO] [MaterialManager] getOrCreateMaterialID NEW: rt_k_gltf_home_style_jelly.001 -> ID=16 | NO TEXTURE
[INFO] COMPRESSED decode start: 2048x2048 (4194304 pixels)
[INFO] [SUCCESS] COMPRESSED texture decoded -> 2048x2048 | opaque | color | Single-threaded safe load | 118ms
[INFO] [MaterialManager] getOrCreateMaterialID NEW: rt_k_gltf_home_style_rocks.001 -> ID=17 | NO TEXTURE
[INFO] COMPRESSED decode start: 1024x1024 (1048576 pixels)
[INFO] [SUCCESS] COMPRESSED texture decoded -> 1024x1024 | opaque | color | Single-threaded safe load | 29ms
[INFO] [MaterialManager] getOrCreateMaterialID NEW: rt_k_gltf_home_style_rope.001 -> ID=18 | NO TEXTURE
[INFO] COMPRESSED decode start: 2048x2048 (4194304 pixels)
[INFO] [SUCCESS] COMPRESSED texture decoded -> 2048x2048 | alpha | color | Single-threaded safe load | 102ms
[INFO] [MaterialManager] getOrCreateMaterialID NEW: rt_k_gltf_home_style_water.003 -> ID=19 | NO TEXTURE
[INFO] Triangle extraction completed: 1260070 triangles processed.
[INFO] Processing animations...
[INFO] No animations found in file: E:\rt_k\gltf.gltf
[INFO] Model loading completed. Summary - Triangles: 1260070, Animations: 0, Cameras: 0, Lights: 0
[INFO] Successfully loaded triangles: 1260070
[INFO] Loaded animations: 0
[INFO] Total Bones (Merged): 0
[INFO] Adding triangles to scene world...
[INFO] Added 1260070 triangles to scene.
[INFO] Loading camera and lighting data...
[INFO] Append mode: Added 0 new lights (total: 1)
[INFO] Building BVH structure...
[INFO] [Embree] BVH structure built successfully.
[INFO] OptiX disabled or not initialized. Using CPU-only path.
[INFO] Scene creation completed successfully.
[INFO] Scene info - Triangles: 1260070, Lights: 1, Animations: 0
[INFO] Scene initialization flag set to true.
[INFO] Model imported: gltf (ID: 1, 1260070 objects)
[INFO] [OptiX TLAS] Building scene (Native Instancing Enabled)...
[INFO] [OptiX] Geometry Source - Static Triangles: 1260072, Instances: 0
[INFO] [OptixAccelManager] Cleaned up
[INFO] [OptiX TLAS] Build complete. Instances: 21
[INFO] [OptiX] Geometry rebuilt (Snapshot) - 1260072 triangles
[INFO] GPU rebuild complete on main thread.
